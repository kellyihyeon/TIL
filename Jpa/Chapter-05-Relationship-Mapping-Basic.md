# 연관관계 매핑 기초

## 목차

1. [다중성](#1-다중성)  
2. [단방향, 양방향](#2-단방향-양방향)  
3. [연관관계의 주인](#3-연관관계의-주인)  
<br>
<br>


### 엔티티 연관관계 매핑시 고려 사항

- 다중성
- 단방향, 양방향
- 연관관계의 주인
<br>
<br>

# 1. 다중성
   - 다대일(@ManyToOne)
   - 일대다(@OneToMany)
   - 일대일(@OneToOne)
   - 다대다(@ManyToMany)
 
 - 다대다 관계는 실무에서 거의 사용하지 않는다.
<br>
<br>

# 2. 단방향, 양방향
   - 객체는 참조용 필드를 가지고 있는 객체만 연관된 객체를 조회할 수 있다.

   - 단방향: 객체 관계에서 한 쪽만 참조하는 것 

   - 양방향: 객체 관계에서 양쪽이 서로 참조하는 것
<br>
<br>

# 3. 연관관계의 주인
   - 데이터베이스는 외래 키 하나로 두 테이블이 연관관계를 맺으므로 테이블의 연관관계를 관리하는 포인트는 외래키 하나이다.

   - 객체에서 엔티티를 양방향으로 매핑할 경우, (A -> B 참조, B -> A 참조) 2군데서 서로를 참조하므로 객체의 연관관계를 관리하는 포인트는 2곳이다.

   - JPA는 두 객체의 연관관계 중 하나를 정해서 데이터베이스의 외래키를 관리한다.   
   이것을 연관관계의 주인이라 한다.

   - 연관관계의 주인이 아닌 방향은 외래키를 변경할 수 없고 읽기만 가능하다.

   - 연관관계의 주인이 아닌 쪽은 mappedBy 속성을 사용해서 연관관계의 주인인 필드 이름을 값으로 입력해야 한다.