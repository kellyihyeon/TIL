## 학습 키워드

- `ISA` `CISC` `RISC`

---

# 명령어 집합

- 명령어의 세세한 생김새, 명령어로 할 수 있는 연산, 주소 지정 방식 등은 CPU마다 조금씩 차이가 있다. CPU가 이해할 수 있는 명령어들의 모음을 **명령어 집합**(instruction set) 또는 **명령어 집합 구조**(**ISA**; Instruction Set Architecture) 라고 함.
- 즉 CPU마다 ISA가 다를 수 있음
    
    ```
    인텔: x86(32비트용) or x86-64(64비트용) ISA 사용
    아이폰: ARM ISA 사용
    ```
    
    - 인텔 컴퓨터와 아이폰은 서로의 명령어를 이해할 수 없다.
- ISA가 다르면 그에 따른 나비 효과로 제어장치가 명령어를 해석하는 방식, 사용되는 레지스터의 종류와 개수, 메모리 관리 방법 등 많은 것이 달라지는데 이는 곧 CPU 하드웨어 설계에도 영향을 미침
- ISA는 CPU의 언어이자 하드웨어가 소프트웨어를 어떻게 이해할지에 대한 약속이다.
- 명령어 파이프라인, 슈퍼스칼라, 비순차적 명령어 처리를 사용하기에 유리한 명령어 집합이 있고, 그렇지 못한 명령어 집합도 있다.

![](/CS/hongong/img/명령어_집합_ISA.png)

# CISC

- Complex Instruction Set Computer
- **복잡하고 다양한 명령어들을 활용**하는 CPU 설계 방식
- ISA의 한 종류인 x86, x86-64는 대표적인 CISC 기반의 ISA

## 특징

- 복잡하고 다양한 명령어 집합을 활용하기에 명령어의 형태와 크기가 다양한 **가변 길이 명령어**를 활용함
- 복잡하고 다양한 명령어를 활용한다는 말은 **적은 수의 명령어**로도 프로그램을 실행할 수 있음을 의미함
    - 💡 프로그램을 실행하는 명령어 수가 적다 = ‘컴파일된 프로그램의 크기가 작다’
- **적은 수의 명령어만으로도 프로그램을 동작**시킬 수 있다는 점은 **메모리 공간을 절약**할 수 있다는 장점이 있음

## 단점

- 활용하는 명령어가 워낙 복잡하고 다양한 기능을 제공하는 탓에 명령어의 크기와 실행까지의 시간이 일정하지 않음
- 복잡한 명령어 때문에 명령어 하나를 실행하는 데에 여러 클럭 주기를 필요로 한다. 이는 명령어 파이프라인을 구현하는 데 큰 걸림돌이 됨
    - 명령어 수행 시간이 길고 가지각색이라 파이프라인이 효율적으로 명령어로 처리할 수 없음

![](/CS/hongong/img/CISC.png)

- 사실상 대다수의 복잡한 명령어는 그 **사용 빈도**가 낮음

# RISC

- CISC의 한계에서 배운 점은 아래와 같고 CISC의 한계를 극복하고자 등장한 것이 RISC이다.

```
1. 원활한 파이프라이닝을 위해 '명령어 길이와 수행 시간이 짧고 규격화'되어 있어야 한다.
2. 복잡한 기능을 지원하는 명령어를 추가하기보다는 '자주 쓰이는 기본적인 명령어를 작고 빠르게 만드는 것'이 중요하다.
```

- Reduced Instruction Set Computer
- ARM은 RISC 기반의 대표적인 ISA

## 특징

- CISC에 비해 명령어의 종류가 적음
- CISC와는 달리 짧고 규격화된 명령어, 되도록 1클럭 내외로 실행되는 명령어를 지향. 즉, RISC는 **고정 길이 명령어**를 활용
- RISC 는 짧고 규격화된 명령어를 활용하기에 명령어 파이프라이닝에 유리

![](/CS/hongong/img/명령어_파이프라이닝.png)

- 메모리에 직접 접근하는 명령어를 load, store 두 개로 제한할 만큼 메모리 접근을 단순화하고 최소화를 추구
- 메모리 접근을 단순화, 최소화 하는 대신 레지스터를 적극적으로 활용
    - CISC보다 레지스터를 이용하는 연산이 많음
    - 일반적인 경우보다 범용 레지스터 개수도 더 많음
- 하지만 사용 가능한 명령어 개수가 CISC보다 적기 때문에 RISC는 CISC보다 많은 명령으로 프로그램을 작동시킴

# CISC vs RISC 요약

| CISC | RISC |
| --- | --- |
| 복잡하고 다양한 명령어 | 단순하고 적은 명령어 |
| 가변 길이 명령어 | 고정 길이 명령어 |
| 다양한 주소 지정 방식 | 적은 주소 지정 방식 |
| 프로그램을 이루는 명령어의 수가 적음 | 프로그램을 이루는 명령어의 수가 많음 |
| 여러 클럭에 걸쳐 명령어 수행 | 1클럭 내외로 명령어 수행 |
| 파이프라이닝하기 어려움 | 파이프라이닝하기 쉬움 |