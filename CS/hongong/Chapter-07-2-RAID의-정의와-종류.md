## 학습 키워드

- `RAID` `RAID 0` `RAID 1` `RAID 4` `RAID 5` `RAID 6`
- 1TB 하드 디스크 네 개를 동시에 사용하는 것과 4TB 하드 디스크를 하나 사용하는 것 중 어느 것이 더 나을까?

---

# RAID의 정의

- Redundant Array of Independent Disks
- 내가 구글 엔지니어라고 생각해보자. 매일 같이 수십, 수백 TB 데이터가 서버로 쏟아지고 데이터에는 개인 정보, 결제 정보와 같이 절대로 잃어버려서는 안 될 민감한 정보도 포함되어 있다. 이런 정보를 안전하게 관리하는 방법 중 하나가 **RAID** 이다.
- RAID는 주로 하드 디스크와 SSD를 사용하는 기술로, 데이터의 안전성 혹은 높은 성능을 위해 여러 개의 물리적 보조기억장치를 마치 하나의 논리적 보조기억장치처럼 사용하는 기술을 의미

# RAID의 종류

- 여러 개의 하드 디스크나 SSD를 마치 하나의 장치처럼 사용하는 RAID를 구성하는 방법을 **RAID 레벨**이라 표현함

## RAID 0

- **여러 개의 보조기억장치에 데이터를 단순히 나누어 저장하는 구성 방식**
- 어떤 데이터를 저장할 때 각 하드 디스크는 번갈아 가며 데이터를 저장한다.
- 즉, 저장되는 데이터가 하드 디스크 개수만큼 나뉘어 저장된다.

![](/CS/hongong/img/RAID0.png)

- 마치 줄무늬처럼 분산되어서 저장된 데이터를 **스트라입** 이라 하고, 분산하여 저장하는 것을 **스트라이핑**(striping)이라고 한다.

![](/CS/hongong/img/RAID0_속도.png)

- 하나의 대용량 저장 장치를 이용했더라면 여러 번에 걸쳐 읽고 썼을 데이터를 동시에 읽고 쓸 수 있기 때문에 스트라이핑 되면 저장된 데이터를 읽고 쓰는 속도가 빨라짐
- RAID 0의 **단점**
    - **저장된 정보가 안전하지 않다.**
    - RAID 0으로 구성된 하드 디스크 중 하나에 문제가 생긴다면 다른 모든 하드 디스크의 정보를 읽는 데 문제가 생길 수 있다. 그래서 등장한 것이 RAID 1

## RAID 1

- **RAID 1은 복사본을 만드는 방식**
- 거울처럼 완전한 복사본을 만드는 구성이어서 미러링(mirroring)이라고도 부름

![](/CS/hongong/img/RAID1.png)

- RAID 1에 어떠한 데이터를 쓸 떄는 원본과 복사본 두 군데에 쓴다. 그렇기 때문에 쓰기 속도는 RAID 0 보다 느림
- RAID 1 방식은 **복구**가 매우 간단하다는 장점이 있음
- RAID 1은 하드 디스크 개수가 한정되었을 때 사용 가능한 **용량**이 적어진다는 단점이 있음. RAID 1에서는 복사본이 만들어지는 용량만큼 사용자가 사용하지 못함
- 많은 양의 하드디스크가 필요하게 되고, **비용**이 증가한다는 단점으로도 이어짐
## RAID 4

- RAID 1처럼 완전한 복사본을 만드는 대신 **오류를 검출하고 복구하기 위한 정보를 저장한 장치**를 두는 구성 방식
- 오류를 검출하고 복구하기 위한 정보를 **패리티 비트**(parity bit)라고 한다.
- RAID 4에서는 패리티를 저장한 장치를 이용해 다른 장치들의 오류를 검출하고, 오류가 있다면 복구함
- RAID 4는 RAID 1보다 적은 하드 디스크로도 데이터를 안전하게 보관할 수 있음

![](/CS/hongong/img/RAID4.png)

- RAID 4에서는 새로운 데이터가 저장될 때마다 패리티를 저장하는 디스크에도 데이터를 쓰게 되므로 **패리티를 저장하는 장치에 병목 현상**이 발생한다는 문제가 있음

![](/CS/hongong/img/RAID4_단점.png)

## RAID 5

- 패리티 정보를 분산하여 저장하는 방식으로 RAID 4의 문제인 병목 현상을 해소함

![](/CS/hongong/img/RAID5.png)

- RAID 4는 패리티를 저장한 장치를 따로 두는 방식
- RAID 5는 패리티를 분산하여 저장하는 방식

## RAID 6

- 기본적으로 RAID 5와 구성은 같지만 서로 다른 두 개의 패리티를 두는 방식
- RAID 4나 RAID 5보다 안전한 구성이라고 볼 수 있음

![](/CS/hongong/img/RAID6.png)

- 새로운 정보를 저장할 때마다 함께 저장할 패리티가 두 개이므로 쓰기 속도는 RAID 5보다 느림
- RAID 6은 데이터 저장 속도를 조금 희생하더라도 데이터를 안전하게 보관하고 싶을 때 사용하는 방식