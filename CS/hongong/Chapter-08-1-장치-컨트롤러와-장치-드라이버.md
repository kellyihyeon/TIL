## 학습 키워드

- `장치 컨트롤러` `장치 드라이버`
- 다양한 외부 장치가 컴퓨터 내부와 연결되는 방식

---

# 장치 컨트롤러

## 입출력장치는 CPU, 메모리보다 다루기가 까다롭다

### 입출력장치의 다양한 종류

- 입출력장치에는 키보드, 모니터, USB 메모리, CD-ROM, SSD, 마우스, 프린터, 스피커, 마이크 등이 있음
- 장치마다 속도, 데이터, 전송 형식 등도 다양하기 때문에 다양한 입출력장치와 정보를 주고받는 방식을 규격화하기 어려움

### 입출력장치의 데이터 전송률

- 일반적으로 CPU와 메모리의 데이터 전송률은 높지만 입출력장치의 데이터 전송률은 낮음
    - **전송률**(transfer rate)이란 데이터를 얼마나 빨리 교환할 수 있는지를 나타내는 지표
- 전송률이 높은 장치는 1초에도 수많은 데이터를 주고받을 수 있음
- 키보드나 마우스와 같이 상대적으로 전송률이 낮은 장치는 같은 시간 동안 데이터를 조금씩만 주고받을 수 있음
- 전송률의 차이는 CPU와 메모리, 입출력장치 간의 통신을 어렵게 함

## 장치 컨트롤러(device controller)

- 이러한 이유로 입출력장치는 컴퓨터에 직접 연결되지 않고 **장치 컨트롤러**라는 하드웨어를 통해 연결됨
- 장치 컨트롤러는 **입출력 제어기**(I/O controller), **입출력 모듈**(I/O module) 로 불리기도 함
- 모든 입출력장치는 각자의 장치 컨트롤러를 통해 컴퓨터 내부와 정보를 주고받음
- 장치 컨트롤러는 하나 이상의 입출력장치와 연결되어 있음

![](/CS/hongong/img/장치_컨트롤러.png)

## 장치 컨트롤러의 역할

### CPU와 입출력장치 간의 통신 중개 및 오류 검출

- 장치 컨트롤러가 일종의 번역가 역할을 함으로써 입출력장치의 정보 규격화 문제를 해결할 수 있음
- 그 과정에서 장치 컨트롤러는 자신과 연결된 입출력장치에 문제가 없는지 오류를 검출하기도 함

### 데이터 버퍼링

- **버퍼링**(buffering)이란 전송률이 높은 장치와 낮은 장치 사이에 주고받는 데이터를 **버퍼**(buffer)라는 임시 저장 공간에 저장하여 전송률을 비슷하게 맞추는 방법
- 장치 컨트롤러는 일반적으로 전송률이 높은 CPU와 일반적으로 전송률이 낮은 입출력장치와의 전송률 차이를 데이터 버퍼링으로 완화함

![](/CS/hongong/img/장치_컨트롤러_역할1.png)

![](/CS/hongong/img/장치_컨트롤러_역할2.png)

## 장치 컨트롤러의 내부 구조

![](/CS/hongong/img/장치_컨트롤러_내부_구조.png)

### 데이터 레지스터

- CPU와 입출력장치 사이에 주고받을 데이터가 담기는 레지스터
- 데이터 버퍼링으로 전송률 차이를 완화할 때 데이터 레지스터가 버퍼 역할을 함

### 상태 레지스터

- 아래의 상태 정보가 저장됨
    - 입출력장치가 입출력 작업을 할 준비가 되었는지
    - 입출력 작업이 완료되었는지
    - 입출력장치에 오류는 없는지

### 제어 레지스터

- 입출력장치가 수행할 내용에 대한 제어 정보와 명령을 저장

# 장치 드라이버(device driver)

- 장치 드라이버란 장치 컨트롤러의 동작을 감지하고 제어함으로써 장치 컨트롤러가 컴퓨터 내부와 정보를 주고받을 수 있게 하는 프로그램이다.
- 새로운 장치를 컴퓨터에 연결하려면 장치 드라이버를 설치해야 함
- 장치 컨트롤러가 입출력장치를 연결하기 위한 하드웨어적 통로라면, 장치 드라이버는 입출력장치를 연결하기 위한 소프트웨어적인 통로이다.

![](/CS/hongong/img/장치_드라이버.png)